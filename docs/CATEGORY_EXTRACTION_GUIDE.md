# Team Lead 范畴提取指南

**版本**: v1.0
**用途**: 帮助 Team Lead 在 Phase 0 执行精细范畴提取

---

## 为什么需要精细提取？

**粗糙提取的问题**:
```
❌ "利润分配" → 太简单，domain_selector 无法匹配
❌ "信任授予" → 缺少动态描述
❌ "负债翻盘" → 没有路径说明
```

**精细提取的优势**:
```
✅ "老板 → 员工: 50%利润分红给员工 (累积/单向/强/正反馈)"
✅ 包含条件、效果、副作用
✅ 8个维度完整刻画
```

---

## 8个精细维度

| 维度 | 取值 | 说明 |
|------|------|------|
| **时间** | 瞬时/延迟/持续/累积 | 过程的时间特性 |
| **方向** | 单向/双向/循环 | 关系的流向 |
| **强度** | 弱/中/强/指数级 | 影响的力度 |
| **反馈** | 无/正/负/复合 | 是否有反馈效应 |
| **可逆** | 可逆/不可逆/条件可逆 | 能否撤销 |
| **条件** | 触发条件列表 | 什么情况下发生 |
| **效果** | 主要效果列表 | 会产生什么结果 |
| **副作用** | 副作用列表 | 伴随的负面影响 |

---

## 提取模板

### 基础模板

```
【实体 A】 → 【实体 B】
- 类型: XXX
- 动态: [具体描述]
- 时间: [瞬时/延迟/持续/累积]
- 方向: [单向/双向/循环]
- 强度: [弱/中/强/指数级]
- 反馈: [无/正/负/复合]
- 可逆: [可逆/不可逆/条件可逆]
- 条件: [触发条件]
- 效果: [主要效果]
- 副作用: [可能的负面影响]
```

### 示例：郑州老板案例

**Morphism 1: 利润分配**
```
老板 → 员工
- 类型: 利润分配
- 动态: 50%利润分红给员工
- 时间: 累积
- 方向: 单向
- 强度: 强
- 反馈: 正反馈
- 可逆: 不可逆
- 条件: 企业盈利
- 效果: 员工激励增加、归属感提升
- 副作用: 老板短期收入减少
```

**Morphism 2: 信任授予**
```
老板 → 员工
- 类型: 信任授予
- 动态: 不打卡考勤，给予自主权
- 时间: 持续
- 方向: 双向
- 强度: 中
- 反馈: 正反馈
- 可逆: 条件可逆
- 条件: 员工表现良好
- 效果: 自主权提升、心理安全感增加
- 副作用: 管理难度增加
```

**Morphism 3: 逆境转化**
```
负债状态 → 盈利状态
- 类型: 逆境转化
- 动态: 通过管理模式创新实现翻盘
- 时间: 延迟
- 方向: 单向
- 强度: 指数级
- 反馈: 复合反馈
- 可逆: 不可逆
- 条件: 员工响应积极、市场接受
- 效果: 摆脱负债、实现增长
- 副作用: 模式被模仿
```

---

## 快速参考

### 判断时间维度
- **瞬时**: 立即生效（如：命令下达）
- **延迟**: 有滞后（如：培训→能力提升）
- **持续**: 持续发生（如：信任关系）
- **累积**: 越来越强（如：利润分红）

### 判断方向性
- **单向**: A → B（如：利润分配）
- **双向**: A ↔ B（如：信任关系）
- **循环**: A → B → A（如：反馈回路）

### 判断强度
- **弱**: 轻微影响
- **中**: 明显影响
- **强**: 重大影响
- **指数级**: 蝴蝶效应、临界点

### 判断反馈
- **无反馈**: 一次性事件
- **正反馈**: 越来越强（如：口碑传播）
- **负反馈**: 趋向稳定（如：温控）
- **复合反馈**: 多重反馈交织

---

## 输出格式

### 精细格式（Domain Agent 注入）
```json
{
  "source": "老板",
  "target": "员工",
  "relation_type": "利润分配",
  "dynamics": "50%利润分红给员工",
  "temporal_type": "累积",
  "direction_type": "单向",
  "intensity_level": "强",
  "feedback_type": "正反馈",
  "reversibility_type": "不可逆",
  "conditions": ["企业盈利"],
  "effects": ["员工激励增加", "归属感提升"],
  "side_effects": ["老板短期收入减少"]
}
```

### 简化格式（domain_selector）
```
"老板 → 员工: 50%利润分红给员工"
```

---

## 代码使用

```python
from scripts.modules.category_extraction import CategoryExtractor, Morphism

# 方式1: 使用提取器（简单案例）
skeleton = CategoryExtractor.extract_from_case(user_problem)

# 方式2: 手动创建精细 Morphism
morphism = Morphism(
    source="老板",
    target="员工",
    relation_type="利润分配",
    dynamics="50%利润分红给员工",
    temporal_type=TemporalType.CUMULATIVE,
    direction_type=DirectionType.UNIDIRECTIONAL,
    intensity_level=IntensityLevel.STRONG,
    feedback_type=FeedbackType.POSITIVE,
    reversibility_type=ReversibilityType.IRREVERSIBLE,
    conditions=["企业盈利"],
    effects=["员工激励增加"]
)

# 转换为简化格式用于 domain_selector
simple_string = morphism.to_simple_string()
# 输出: "老板 → 员工: 50%利润分红给员工"
```

---

**记住**: 精细提取不是增加复杂度，而是让后续的领域选择更准确。投入时间在 Phase 0，会节省后续迭代时间。
